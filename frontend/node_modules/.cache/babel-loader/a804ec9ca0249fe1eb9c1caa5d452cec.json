{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js!/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/views/Diary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/views/Diary.vue","mtime":1634648827355},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":1634648814815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3dvcmtzcGFjZXMvV0VCX1NPTkFHSS1PTl91cGRyYWZ0L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFRpbWVsaW5lIGZyb20gJy4uL2NvbXBvbmVudHMvVGltZWxpbmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIFRpbWVsaW5lOiBUaW1lbGluZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJjTGluazogW3sKICAgICAgICB0ZXh0OiAn64yA7Iuc67O065OcJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgaHJlZjogJy8nCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn7J286riwJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgaHJlZjogJ0RpYXJ5JwogICAgICB9XSwKICAgICAgZGlhcnlNb250aDogW10sCiAgICAgIGRpYXJ5RGF0YToge30sCiAgICAgIGlzTG9hZGVkOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ2lzTG9naW4nLCAnYWNjZXNzX3Rva2VuJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydsb2dvdXQnXSkpLCB7fSwgewogICAgaW5pdFRpbWVsaW5lOiBmdW5jdGlvbiBpbml0VGltZWxpbmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRpYXJ5TW9udGggPSBbXTsKICAgICAgdGhpcy5kaWFyeURhdGEgPSB7fTsKICAgICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlOwoKICAgICAgaWYgKCF0aGlzLmlzTG9naW4pIHsKICAgICAgICB0aGlzLiRhbGVydCgi66Gc6re47J247J20IO2VhOyalO2VnCDtjpjsnbTsp4DsnoXri4jri6QuIiwgIiIsICJ3YXJuaW5nIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgY29uZmlnID0gewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuYWNjZXNzX3Rva2VuKQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdGhpcy5heGlvcy5nZXQoIiIuY29uY2F0KHRoaXMuJHN0b3JlLnN0YXRlLkJBQ0tFTkRfVVJMLCAiL2FwaS9kaWFyeS9saXN0IiksIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgbW9udGh5ZWFyID0gW107CiAgICAgICAgICB2YXIgc29ydGVkX2RhdGEgPSByZXMuZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIGEgPSBuZXcgRGF0ZShhLndyaXRlX2RhdGUpOwogICAgICAgICAgICBiID0gbmV3IERhdGUoYi53cml0ZV9kYXRlKTsKICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gMSA6IC0xOwogICAgICAgICAgfSk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWRfZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgdG1wID0gc29ydGVkX2RhdGFbaV1bJ3dyaXRlX2RhdGUnXS5zcGxpdCgnLScpOwogICAgICAgICAgICB0bXAgPSB0bXBbMF0gKyAiLCAiICsgdG1wWzFdICsgIuyblCI7CgogICAgICAgICAgICBpZiAodG1wIGluIF90aGlzLmRpYXJ5RGF0YSkgewogICAgICAgICAgICAgIF90aGlzLmRpYXJ5RGF0YVt0bXBdLnB1c2goc29ydGVkX2RhdGFbaV0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLmRpYXJ5RGF0YVt0bXBdID0gW3NvcnRlZF9kYXRhW2ldXTsKICAgICAgICAgICAgICB0bXAgPSAiIyIgKyB0bXA7CiAgICAgICAgICAgICAgbW9udGh5ZWFyLnB1c2godG1wKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLmRpYXJ5TW9udGggPSBtb250aHllYXI7CiAgICAgICAgICBfdGhpcy5pc0xvYWRlZCA9IHRydWU7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMubG9nb3V0KCk7CgogICAgICAgICAgX3RoaXMuJGFsZXJ0KCLshLjshZjsnbQg66eM66OM65CY7JeI7Iq164uI64ukLiDri6Tsi5wg66Gc6re47J24IO2VtOyjvOyEuOyalC4iLCAiIiwgImVycm9yIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0VGltZWxpbmUoKTsKICB9Cn07"},{"version":3,"sources":["Diary.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <v-card class=\"group pa-2\">\n      <v-icon small style=\"margin-left:5px\">home</v-icon>\n      <v-breadcrumbs :items=\"bcLink\"></v-breadcrumbs>\n    </v-card>\n    <v-layout>\n      <v-flex xs2 sm2 md2 lg2 xl2>\n      <v-card>\n      </v-card>\n      </v-flex>\n    <Timeline\n      v-if=\"isLoaded\"\n      :diaryData=\"diaryData\"\n      @reload=\"initTimeline\"\n    >\n    </Timeline>\n    <v-flex xs2 sm2 md2 lg2 xl2 shrink>\n    <v-card class=\"mt-10\" style=\"position: fixed;\">\n      <v-subheader class=\"grey darken-3 white--text\" style=\"text-align: center;\">Quick List</v-subheader>\n      <v-list>    \n        <v-list-item v-for=\"item in diaryMonth\" :key=\"item\" v-bind:href=item style=\"text-align: center;\">{{item.slice(1)}}\n        </v-list-item>\n      </v-list>\n    </v-card>\n    </v-flex>\n    </v-layout>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport Timeline from '../components/Timeline'\n\nexport default {\n  name: 'Home',\n  components: {\n    Timeline\n  },\n  data: ()=> ({\n    bcLink: [\n          {\n            text: '대시보드',\n            disabled: false,\n            href: '/',\n          },\n          {\n            text: '일기',\n            disabled: false,\n            href: 'Diary',\n          },\n        ],\n    diaryMonth: [],\n    diaryData: {},\n    isLoaded: false,\n  }),\n  computed: {\n    ...mapState(['isLogin', 'access_token']),\n  },\n  methods: {\n    ...mapActions(['logout']),\n    initTimeline: function(){\n      this.diaryMonth = [];\n      this.diaryData = {};\n      this.isLoaded = false;\n      if(!this.isLogin){\n        this.$alert(\"로그인이 필요한 페이지입니다.\",\"\",\"warning\");\n        this.$router.push('/');\n      } else {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${this.access_token}`,\n          },\n        };\n        this.axios\n          .get(`${this.$store.state.BACKEND_URL}/api/diary/list`, config)\n          .then((res) => {\n            let monthyear = [];\n            let sorted_data = res.data.sort((a,b) => {\n              a = new Date(a.write_date);\n              b = new Date(b.write_date);\n              return a < b ? 1 : -1;\n            })\n            for(let i = 0; i < sorted_data.length; i++){\n              let tmp = sorted_data[i]['write_date'].split('-');\n              tmp = tmp[0] + \", \" + tmp[1] + \"월\";\n              if (tmp in this.diaryData){\n                this.diaryData[tmp].push(sorted_data[i]);\n              } else {\n                this.diaryData[tmp] = [sorted_data[i]];\n                tmp = \"#\"+tmp;\n                monthyear.push(tmp);\n              }\n            }\n            this.diaryMonth = monthyear;\n            this.isLoaded = true;\n          })\n          .catch(() => {\n            this.logout();\n            this.$alert(\"세션이 만료되었습니다. 다시 로그인 해주세요.\",\"\",\"error\");\n          });\n      }\n    }\n  },\n  created() {\n    this.initTimeline();\n  },\n}\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views"}]}