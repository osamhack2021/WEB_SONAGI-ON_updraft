{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js!/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/Profile.vue","mtime":1634648827351},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":1634648814815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3dvcmtzcGFjZXMvV0VCX1NPTkFHSS1PTl91cGRyYWZ0L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IExvZ2luRGlhbG9nIGZyb20gJy4vc2lkZV9tb2R1bGVzL0xvZ2luRGlhbG9nLnZ1ZSc7CmltcG9ydCBSZWdpc3RlciBmcm9tICcuL3NpZGVfbW9kdWxlcy9SZWdpc3Rlci52dWUnOwppbXBvcnQgVXNlclNldHRpbmcgZnJvbSAnLi9zaWRlX21vZHVsZXMvVXNlclNldHRpbmcudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnRzOiB7CiAgICBMb2dpbkRpYWxvZzogTG9naW5EaWFsb2csCiAgICBSZWdpc3RlcjogUmVnaXN0ZXIsCiAgICBVc2VyU2V0dGluZzogVXNlclNldHRpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7CiAgICAgICAgIm5pY2tuYW1lIjogIuustOuqhSIsCiAgICAgICAgInJhbmsiOiAi6rKM7Iqk7Yq4IiwKICAgICAgICAicHJvZmlsZSI6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ2lzTG9naW4nLCAndXNlcmRhdGEnXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ2xvZ291dCddKSksIHt9LCB7CiAgICBpbml0UHJvZmlsZTogZnVuY3Rpb24gaW5pdFByb2ZpbGUoKSB7CiAgICAgIGlmICh0aGlzLmlzTG9naW4pIHsKICAgICAgICB0aGlzLnVzZXIubmlja25hbWUgPSB0aGlzLnVzZXJkYXRhLm5pY2tuYW1lOwogICAgICAgIHRoaXMudXNlci5wcm9maWxlID0gdGhpcy51c2VyZGF0YS5wcm9maWxlOwogICAgICAgIHZhciBwcm9tb3Rpb25fZGF0ZXMgPSBbbmV3IERhdGUodGhpcy51c2VyZGF0YS5wcm9tb3Rpb24xX2RhdGUpLCBuZXcgRGF0ZSh0aGlzLnVzZXJkYXRhLnByb21vdGlvbjJfZGF0ZSksIG5ldyBEYXRlKHRoaXMudXNlcmRhdGEucHJvbW90aW9uM19kYXRlKV07CiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsgLy8gdG9kbyA6IOu2gOyCrOq0gCwg7J6l6rWQ7JeQIOuMgO2VtOyEnOuPhCDrgpjtg4Drgrwg7IiYIOyeiOuPhOuhnQoKICAgICAgICBpZiAodGhpcy51c2VyZGF0YS50eXBlID09PSAic29sZGllciIpIHsKICAgICAgICAgIHZhciByYW5rcyA9IFsi7J2067ORIiwgIuydvOuzkSIsICLsg4Hrs5EiLCAi67OR7J6lIl07CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9tb3Rpb25fZGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHRvZGF5IDwgcHJvbW90aW9uX2RhdGVzW2ldKSB7CiAgICAgICAgICAgICAgdGhpcy51c2VyLnJhbmsgPSByYW5rc1tpXTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVzZXIgPSB7CiAgICAgICAgICAibmlja25hbWUiOiAi66y066qFIiwKICAgICAgICAgICJyYW5rIjogIuqyjOyKpO2KuCIsCiAgICAgICAgICAicHJvZmlsZSI6IG51bGwKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgIHVzZXJkYXRhOiBmdW5jdGlvbiB1c2VyZGF0YSgpIHsKICAgICAgdGhpcy5pbml0UHJvZmlsZSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdFByb2ZpbGUoKTsKICB9Cn07"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,gCAAA;AACA,OAAA,QAAA,MAAA,6BAAA;AACA,OAAA,WAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,WAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA;AAAA,oBAAA,IAAA;AAAA,gBAAA,KAAA;AAAA,mBAAA;AAAA;AADA,KAAA;AAAA,GAPA;AAUA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,SAAA,EAAA,UAAA,CAAA,CADA,CAVA;AAaA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,QAAA,CAAA,CADA;AAEA,IAAA,WAAA,EAAA,uBAAA;AACA,UAAA,KAAA,OAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA,GAAA,KAAA,QAAA,CAAA,QAAA;AACA,aAAA,IAAA,CAAA,OAAA,GAAA,KAAA,QAAA,CAAA,OAAA;AACA,YAAA,eAAA,GAAA,CAAA,IAAA,IAAA,CAAA,KAAA,QAAA,CAAA,eAAA,CAAA,EACA,IAAA,IAAA,CAAA,KAAA,QAAA,CAAA,eAAA,CADA,EAEA,IAAA,IAAA,CAAA,KAAA,QAAA,CAAA,eAAA,CAFA,CAAA;AAGA,YAAA,KAAA,GAAA,IAAA,IAAA,EAAA,CANA,CAOA;;AACA,YAAA,KAAA,QAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,cAAA,KAAA,GAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,eAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,gBAAA,KAAA,GAAA,eAAA,CAAA,CAAA,CAAA,EAAA;AACA,mBAAA,IAAA,CAAA,IAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA;AACA;AACA;AACA,OAjBA,MAiBA;AACA,aAAA,IAAA,GAAA;AAAA,sBAAA,IAAA;AAAA,kBAAA,KAAA;AAAA,qBAAA;AAAA,SAAA;AACA;AACA;AAvBA,IAbA;AAsCA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,WAAA;AACA;AAHA,GAtCA;AA2CA,EAAA,OA3CA,qBA2CA;AACA,SAAA,WAAA;AACA;AA7CA,CAAA","sourcesContent":["<template>\n   <v-card height=\"350px\" class=\"d-flex align-center justify-center\">\n      <v-list>\n        <v-list-item>\n          <template v-if=\"!isLogin || user.profile === null\">\n                <v-icon size=150>mdi-account-circle</v-icon>\n          </template>\n          <template v-else>\n            <v-avatar size=\"150\">\n              <!-- todo: v-badge로 계급 사진 넣기 -->\n              <img\n                :src=\"$store.state.BACKEND_URL+'/'+user.profile\"\n                alt=\"에러\"\n              >\n            </v-avatar>\n          </template>\n        </v-list-item>\n         <v-list-item>\n            <v-list-item-content>\n               <v-list-item-title class=\"text-h5 d-flex align-center justify-center\">{{user.nickname}}</v-list-item-title>\n               <v-list-item-subtitle class=\"d-flex align-center justify-center\">{{user.rank}}</v-list-item-subtitle>\n            </v-list-item-content>\n         </v-list-item>\n         <v-list-item class=\"justify-center\">\n            <template v-if=\"!isLogin\">\n                <v-row>\n                  <v-col>\n                    <LoginDialog />\n                  </v-col>\n                  <v-col>\n                    <Register />\n                  </v-col>\n                </v-row>\n            </template>\n            <template v-else>\n              <v-row>\n                  <v-col>\n                    <UserSetting />\n                  </v-col>\n                  <v-col>\n                    <v-row justify=\"center\">\n                      <v-btn\n                          color=\"grey darken-2 white--text\"\n                          dark\n                          @click=\"logout()\"\n                      > \n                          로그아웃\n                      </v-btn>\n                    </v-row>\n                  </v-col>\n               </v-row>\n            </template>\n         </v-list-item>\n      </v-list>\n   </v-card>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex';\nimport LoginDialog from './side_modules/LoginDialog.vue'\nimport Register from './side_modules/Register.vue'\nimport UserSetting from './side_modules/UserSetting.vue'\n\nexport default {\n  name: 'Profile',\n  components: { \n    LoginDialog,\n    Register,\n    UserSetting,\n  },\n  data: () => ({\n    user: {\"nickname\":\"무명\", \"rank\":\"게스트\", \"profile\":null},\n  }),\n  computed: {\n    ...mapState(['isLogin', 'userdata']),\n  },\n  methods: {\n    ...mapActions(['logout']),\n    initProfile: function() {\n      if(this.isLogin){\n        this.user.nickname = this.userdata.nickname;\n        this.user.profile = this.userdata.profile;\n        let promotion_dates = [new Date(this.userdata.promotion1_date), \n                                new Date(this.userdata.promotion2_date), \n                                new Date(this.userdata.promotion3_date)];\n        let today = new Date();\n        // todo : 부사관, 장교에 대해서도 나타낼 수 있도록\n        if(this.userdata.type === \"soldier\"){\n          let ranks = [\"이병\", \"일병\", \"상병\", \"병장\"];\n          for(let i = 0; i < promotion_dates.length; i++){\n            if(today < promotion_dates[i]){\n              this.user.rank = ranks[i]\n              break;\n            }\n          }\n        }\n      } else {\n        this.user = {\"nickname\":\"무명\", \"rank\":\"게스트\", \"profile\":null};\n      }\n    },\n  },\n  watch: {\n    userdata: function() {\n      this.initProfile();\n    },\n  },\n  created() {\n    this.initProfile();\n  },\n}\n</script>"],"sourceRoot":"src/components"}]}