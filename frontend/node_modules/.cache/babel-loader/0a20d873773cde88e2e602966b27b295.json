{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js!/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/eslint-loader/index.js??ref--13-0!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/store/index.js","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/store/index.js","mtime":1634203933572},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjcmVhdGVQZXJzaXN0ZWRTdGF0ZSBmcm9tICd2dWV4LXBlcnNpc3RlZHN0YXRlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgcGx1Z2luczogW2NyZWF0ZVBlcnNpc3RlZFN0YXRlKCldLAogIHN0YXRlOiB7CiAgICBCQUNLRU5EX1VSTDogJ2h0dHBzOi8vc29uYWdpLnJ1bi5nb29ybS5pbycsCiAgICBpc0xvZ2luOiBmYWxzZSwKICAgIGFjY2Vzc190b2tlbjogIiIsCiAgICByZWZyZXNoX3Rva2VuOiAiIgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBsb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luU3VjY2VzcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvLyDroZzqt7jsnbgg7ISx6rO17IucLAogICAgICBzdGF0ZS5pc0xvZ2luID0gdHJ1ZTsKICAgICAgc3RhdGUuYWNjZXNzX3Rva2VuID0gcGF5bG9hZC5hY2VzczsKICAgICAgc3RhdGUucmVmcmVzaF90b2tlbiA9IHBheWxvYWQucmVmcmVzaDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICAvLyDroZzqt7gg7JWE7JuD7IucLAogICAgICBzdGF0ZS5pc0xvZ2luID0gZmFsc2U7CiAgICAgIHN0YXRlLmFjY2Vzc190b2tlbiA9ICIiOwogICAgICBzdGF0ZS5yZWZyZXNoX3Rva2VuID0gIiI7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oZGlzcGF0Y2gsIGxvZ2luT2JqKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGF4aW9zLnBvc3QoIiIuY29uY2F0KF90aGlzLnN0YXRlLkJBQ0tFTkRfVVJMLCAiL2FwaS91c2VyL2xvZ2luIiksIGxvZ2luT2JqKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgX3RoaXMuY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCByZXMuZGF0YSk7CgogICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZWplY3QocmVzLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ+uMgOyLnOuztOuTnCcKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/workspaces/WEB_SONAGI-ON_updraft/frontend/src/store/index.js"],"names":["Vue","Vuex","axios","createPersistedState","router","use","Store","plugins","state","BACKEND_URL","isLogin","access_token","refresh_token","mutations","loginSuccess","payload","acess","refresh","logout","actions","login","dispatch","loginObj","Promise","resolve","reject","post","then","res","console","log","commit","data","catch","localStorage","removeItem","push","name"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,oBAAP,MAAiC,qBAAjC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACK,KAAT,CAAe;AAC5BC,EAAAA,OAAO,EAAE,CACPJ,oBAAoB,EADb,CADmB;AAI5BK,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAG,6BADT;AAELC,IAAAA,OAAO,EAAE,KAFJ;AAGLC,IAAAA,YAAY,EAAE,EAHT;AAILC,IAAAA,aAAa,EAAE;AAJV,GAJqB;AAU5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIN,KADJ,EACWO,OADX,EACoB;AAAE;AAC7BP,MAAAA,KAAK,CAACE,OAAN,GAAgB,IAAhB;AACAF,MAAAA,KAAK,CAACG,YAAN,GAAqBI,OAAO,CAACC,KAA7B;AACAR,MAAAA,KAAK,CAACI,aAAN,GAAsBG,OAAO,CAACE,OAA9B;AACD,KALQ;AAMTC,IAAAA,MANS,kBAMFV,KANE,EAMK;AAAE;AACdA,MAAAA,KAAK,CAACE,OAAN,GAAgB,KAAhB;AACAF,MAAAA,KAAK,CAACG,YAAN,GAAqB,EAArB;AACAH,MAAAA,KAAK,CAACI,aAAN,GAAsB,EAAtB;AACD;AAVQ,GAViB;AAsB5BO,EAAAA,OAAO,EAAE;AACPC,IAAAA,KADO,iBACDC,QADC,EACSC,QADT,EACmB;AAAA;;AACxB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCvB,QAAAA,KAAK,CACFwB,IADH,WACW,KAAI,CAAClB,KAAL,CAAWC,WADtB,sBACoDa,QADpD,EAEGK,IAFH,CAEQ,UAACC,GAAD,EAAS;AACbC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAA,KAAI,CAACG,MAAL,CAAY,cAAZ,EAA4BH,GAAG,CAACI,IAAhC;;AACAR,UAAAA,OAAO,CAAC,IAAD,CAAP;AACD,SANH,EAOGS,KAPH,CAOS,UAACL,GAAD,EAAS;AACdH,UAAAA,MAAM,CAACG,GAAG,CAACI,IAAL,CAAN;AACD,SATH;AAUD,OAXM,CAAP;AAYD,KAdM;AAePd,IAAAA,MAfO,wBAeY;AAAA,UAAVa,MAAU,QAAVA,MAAU;AACjBA,MAAAA,MAAM,CAAC,QAAD,CAAN;AACAG,MAAAA,YAAY,CAACC,UAAb,CAAwB,cAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,eAAxB;AACA/B,MAAAA,MAAM,CAACgC,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACD;AApBM;AAtBmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport createPersistedState from 'vuex-persistedstate';\nimport router from '../router';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  plugins: [\n    createPersistedState(),\n  ],\n  state: {\n    BACKEND_URL : 'https://sonagi.run.goorm.io',\n    isLogin: false,\n    access_token: \"\",\n    refresh_token: \"\",\n  },\n  mutations: {\n    loginSuccess(state, payload) { // 로그인 성공시,\n      state.isLogin = true;\n      state.access_token = payload.acess;\n      state.refresh_token = payload.refresh;\n    },\n    logout(state) { // 로그 아웃시,\n      state.isLogin = false;\n      state.access_token = \"\";\n      state.refresh_token = \"\";\n    },\n  },\n  actions: {\n    login(dispatch, loginObj) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(`${this.state.BACKEND_URL}/api/user/login`, loginObj)\n          .then((res) => {\n            console.log(res);\n            this.commit('loginSuccess', res.data);\n            resolve(true);\n          })\n          .catch((res) => {\n            reject(res.data);\n          });\n      })\n    },\n    logout({ commit }) {\n      commit('logout');\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      router.push({ name: '대시보드' });\n    },\n  },\n});"]}]}