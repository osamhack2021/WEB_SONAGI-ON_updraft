{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/RetireCalculator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/RetireCalculator.vue","mtime":1634449137141},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBBbmltYXRlZE51bWJlciBmcm9tICJhbmltYXRlZC1udW1iZXItdnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBbmltYXRlZE51bWJlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXIgOiB7fSwKICAgICAgdG1wIDogW10sCiAgICAgIGRpc2NoYXJnZV9QIDogMCwgLy/soITsl63snbwg7Y287IS87Yq4CiAgICAgIHJlbWFpbl9QIDogMCwgLy8g64Ko7J2AIOuzteustOydvCDtjbzshLztirgKICAgICAgcHJvbW90aW9uX1AgOiAwLCAvLyDri6TsnYwg6rOE6riJIOynhOq4ieydvCDtjbzshLztirgKICAgICAgc3RlcF9QIDogMCwgICAgIC8vIOuLpOydjCDtmLjrtIkg7KeE6riJ7J28IO2NvOyEvO2KuAogICAgICBjdXJyZW50RGF5cyA6IDAsIC8vIO2YhOyerCDrs7XrrLTsnbwKICAgICAgcmVtYWluRGF5cyA6IDAsICAvLyDrgqjsnYAg67O166y07J28CiAgICAgIHByb21vdGlvbiA6IDAsICAgLy8g64uk7J2MIOqzhOq4iSDsp4TquInsnbwKICAgICAgc3RlcCA6IDAsICAgICAgIC8vIOuLpOydjCDtmLjrtIkg7KeE6riJ7J28CiAgICAgIHNlcnZpY2VEYXlzIDogMCwgLy8g7KCE7LK0IOuzteustOydvAogICAgICByYW5rSWR4IDogMCwgICAgICAvLyDsgqzsmqnsnpDsnZgg7ZiE7J6sIOqzhOq4iWlkeAogICAgICBubVJhbmtJZHggOjAsICAgICAgLy/sgqzsmqnsnpDsnZgg7ZiE7J6sIOqzhOq4iWlkeAogICAgICBzdGVwSWR4IDogMCwgICAgICAvLyDsgqzsmqnsnpDsnZgg7ZiE7J6sIO2YuOu0iQogICAgICBubVN0ZXBJZHggOiAwLCAgICAgLy8g7IKs7Jqp7J6Q7J2MIOuLpOydjCDtmLjrtIkKICAgICAgbm1Ib3VzZSA6IGZhbHNlLCAgIC8vIOuLpOydjCDri6zsl5Ag7KCE7Jet7J28IOqyveyasAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ2lzTG9naW4nLCAndXNlcmRhdGEnXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVkdXNlcmRhdGEodXNlcmRhdGEpewogICAgICBpZih0aGlzLmlzTG9naW4pewogICAgICAgIHRoaXMudXNlciA9IHsKICAgICAgICAgICAgZGF5cyA6IFt1c2VyZGF0YS5lbmxpc3RlZF9kYXRlLHVzZXJkYXRhLnByb21vdGlvbjFfZGF0ZSx1c2VyZGF0YS5wcm9tb3Rpb24yX2RhdGUsdXNlcmRhdGEucHJvbW90aW9uM19kYXRlLHVzZXJkYXRhLmRlbGlzdGVkX2RhdGVdLCAgICAgICAKICAgICAgICAgICAgY2xhc3NlcyA6IFsi7J2065Ox67ORIiwi7J2867ORIiwi7IOB67ORIiwi67OR7J6lIiwi66+86rCE7J24Il0sCiAgICAgICAgICAgIHR5cGU6IHVzZXJkYXRhLnR5cGUsCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVzZXIgPSB7CiAgICAgICAgICBkYXlzIDogWycyMDIxLTA5LTAxJywgJzIwMjEtMTAtMDInLCAnMjAyMS0xMC0xMCcsICcyMDIxLTEwLTExJywgJzIwMjEtMTEtMjInXSwgICAgICAgCiAgICAgICAgICBjbGFzc2VzIDogWyLsnbTrk7Hrs5EiLCLsnbzrs5EiLCLsg4Hrs5EiLCLrs5HsnqUiLCLrr7zqsITsnbgiXSwKICAgICAgICAgIHR5cGU6ICJzb2xkaWVyIiwKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkYXRlRGlmZihhLGIpewogICAgICByZXR1cm4gKGEuZ2V0VGltZSgpLWIuZ2V0VGltZSgpKS8oMTAwMCozNjAwKjI0KTsKICAgIH0sCiAgICBmb3JtYXRUb0RtRGF5KHZhbHVlKSB7CiAgICAgIHJldHVybiBgRC0ke3ZhbHVlfWA7CiAgICB9LAogICAgZm9ybWF0VG9EcERheSh2YWx1ZSkgewogICAgICByZXR1cm4gYEQrJHt2YWx1ZX1gOwogICAgfSwKICAgIHVwZGF0ZVJjRGF0YSgpewogICAgICB2YXIgdWkgPSB0aGlzLnVzZXI7CiAgICAgIHZhciB0bXAgPSBbXTsgLy/sp4TquInsnbwg67Cw7Je07J2EIOyehOyLnOuhnCDsoIDsnqXtlaAg67Cw7Je0CiAgICAgIHZhciBpZHggPSAwOyAgLy8g7IKs7Jqp7J6Q7J2YIO2YhOyerCDqs4TquInsnZgg7J24642x7IqkCiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7IAogICAgICB1aS5kYXlzLmZvckVhY2goKGl0ZW0pPT4geyAgICAgICAgIC8vdG1w66W8IGRhdGXqsJ3ssrTrpbwg6rCA7KeEIOuwsOyXtOuhnCDrp4zrk6TslrQg7KSA64ukLgogICAgICAgICAgdmFyIGxpc3QgPSBpdGVtLnNwbGl0KCItIik7CiAgICAgICAgICB0bXAucHVzaChuZXcgRGF0ZShsaXN0WzBdLGxpc3RbMV0tMSxsaXN0WzJdKSk7CiAgICAgIH0pOwogICAgICB2YXIgYWxsID0gTWF0aC5mbG9vcih0aGlzLmRhdGVEaWZmKHRtcFs0XSx0bXBbMF0pKTsvL+y0nSDrs7XrrLTsnbwKICAgICAgdGhpcy5zZXJ2aWNlRGF5cyA9IGFsbDsgICAgICAgCiAgICAgIHZhciBjdXIgPSBNYXRoLmZsb29yKHRoaXMuZGF0ZURpZmYodG9kYXksdG1wWzBdKSkrMTsgLy/tmITsnqwg67O166y07J28CiAgICAgIHRoaXMuY3VycmVudERheXMgPSBjdXI7CiAgICAgIHRoaXMuZGlzY2hhcmdlX1AgPSBNYXRoLnJvdW5kKCh0aGlzLmRhdGVEaWZmKHRvZGF5LHRtcFswXSkgLyBhbGwgKjEwMCkqMTAwMDAwMCkvMTAwMDAwMDsgLy/soITsl63snbwg7Y287IS87Yq4CiAgICAgIHRoaXMucmVtYWluX1AgPSBNYXRoLnJvdW5kKCgxMDAtdGhpcy5kaXNjaGFyZ2VfUCkqMTAwMDAwMCkvMTAwMDAwMC4wOwogICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwogICAgICB0aGlzLnJlbWFpbkRheXMgPSAoYWxsIC0gY3VyICsgMSk7ICAgICAgICAgICAgICAgICAgICAgLy/rgqjsnYAg67O166y07J28CiAgICAgIGZvcih2YXIgaT0wO2k8NDtpKyspeyAvL+2YhOyerCDqs4TquIkg6rWs7ZWY6riwCiAgICAgICAgICBpZih0bXBbaV0uZ2V0VGltZSgpPD10b2RheS5nZXRUaW1lKCkgJiYgdG1wW2krMV0uZ2V0VGltZSgpPnRvZGF5LmdldFRpbWUoKSl7CiAgICAgICAgICBpZHggPSBpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5yYW5rSWR4ID0gaWR4OwogICAgICB2YXIgcHJvbSA9IHRoaXMuZGF0ZURpZmYodG1wW2lkeCsxXSx0b2RheSkrMTsgLy/ri6TsnYwg6rOE6riJIOynhOq4ieydvAogICAgICB0aGlzLnByb21vdGlvbiA9IHByb207CiAgICAgIHZhciBwcm9kaWZmID0gdGhpcy5kYXRlRGlmZih0bXBbaWR4KzFdLHRtcFtpZHhdKSAvLyDtmITsnqwg6rOE6riJIOynhOq4ieydvOqzvCDri6TsnYwg6rOE6riJIOynhOq4ieydvCDsnbzsiJgg7LCoIOq1rO2VmOq4sAogICAgICB0aGlzLnByb21vdGlvbl9QID0gTWF0aC5yb3VuZCgoKHByb2RpZmYtcHJvbSkvcHJvZGlmZiAqMTAwKSoxMDAwMDAwKS8xMDAwMDAwOyAvLyDri6TsnYzqs4TquIkg7KeE6riJ7J28IO2NvOyEvO2KuAogICAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KICAgICAgdmFyIGN1clN0ZXAgPSB0b2RheS5nZXRNb250aCgpIC0gdG1wW2lkeF0uZ2V0TW9udGgoKSArMTsgIC8vIO2YhOyerCDtmLjrtIkg7IiYCiAgICAgIHRoaXMuc3RlcElkeCA9IGN1clN0ZXA7CiAgICAgIGlmKHRvZGF5LmdldE1vbnRoKCkrMSA9PSB0bXBbaWR4KzFdLmdldE1vbnRoKCkpeyAvL+uLpOydjOuLrOydtCDsp4TquInsnbzsnbTrnbwg7Zi467SJIOyImOqwgCAx66GcIOuwlOuAlCDrlYwKICAgICAgICAgIGlmKGlkeCA9PSAzKXsKICAgICAgICAgIHRoaXMubm1TdGVwSWR4ID0gY3VyU3RlcCsxOwogICAgICAgICAgdGhpcy5ubVJhbmtJZHggPSB0aGlzLnJhbmtJZHg7CiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgIHRoaXMubm1TdGVwSWR4ID0gMTsKICAgICAgICAgIHRoaXMubm1SYW5rSWR4ID0gdGhpcy5yYW5rSWR4ICsxOwogICAgICAgICAgfQogICAgICB9IGVsc2UgeyAgICAgICAgCiAgICAgICAgICB0aGlzLm5tU3RlcElkeCA9IGN1clN0ZXArMTsKICAgICAgICAgIHRoaXMubm1SYW5rSWR4ID0gdGhpcy5yYW5rSWR4OwogICAgICB9CiAgICAgIHZhciB0bSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksdG9kYXkuZ2V0TW9udGgoKSwxKTsgICAgLy/tmITsnqwg64us7J2YIOyyq+uCoAogICAgICB2YXIgbm0gPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLHRvZGF5LmdldE1vbnRoKCkrMSwxKTsgIC8v64uk7J2MIOuLrOydmCDssqvrgqAKICAgICAgdmFyIGRpZmYgPSB0aGlzLmRhdGVEaWZmKG5tLHRtKSAgICAgICAvL+2VnOuLrCDtgazquLAg6rWs7ZWY6riwCiAgICAgIHRoaXMuc3RlcCA9ICB0aGlzLmRhdGVEaWZmKG5tLHRvZGF5KSsxOyAgICAgICAgICAgIC8v64uk7J2MIO2YuOu0iSDsp4TquInsnbwKICAgICAgaWYoKG5tLmdldFRpbWUoKS10bXBbNF0uZ2V0VGltZSgpKSA+IDAgKXsgICAgICAgICAgICAgICAgICAgICAgLy/ri6TsnYwg64usIOyyq+uCoOydtCDsoITsl60g7J207ZuEIOydvCDrlYwKICAgICAgICAgIHRoaXMubm1Ib3VzZT0gdHJ1ZTsKICAgICAgfWVsc2UgewogICAgICAgICAgdGhpcy5ubUhvdXNlID0gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5zdGVwX1AgPSBNYXRoLnJvdW5kKCgoZGlmZi10aGlzLnN0ZXApL2RpZmYgKjEwMCkqMTAwMDAwMCkvMTAwMDAwMDsgLy8g64uk7J2MIO2YuOu0iSDsp4TquInsnbwg7Y287IS87Yq4CiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHVzZXJkYXRhOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy51cGRhdGVkdXNlcmRhdGEodGhpcy51c2VyZGF0YSk7CiAgICAgIHRoaXMudXBkYXRlUmNEYXRhKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy51cGRhdGVkdXNlcmRhdGEodGhpcy51c2VyZGF0YSk7CiAgICB0aGlzLnVwZGF0ZVJjRGF0YSgpOwogIH0KfTsK"},{"version":3,"sources":["RetireCalculator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RetireCalculator.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"elevation-0\">\n  <v-toolbar class=\"elevation-2\">\n  <template>\n    <v-toolbar-title v-if=\"!isLogin\">D-??</v-toolbar-title>\n    <v-toolbar-title v-else>D-{{Math.floor(remainDays)}}</v-toolbar-title>\n  </template>\n  <v-spacer></v-spacer>\n  <v-toolbar-title>전역일 계산기</v-toolbar-title>\n  <v-spacer></v-spacer>\n  <template>\n    <v-toolbar-title v-if=\"!isLogin\" id=\"title\">\n      입대일: 0000-00-00<br/>전역일: 0000-00-00\n    </v-toolbar-title>\n    <v-toolbar-title v-else id=\"title\">\n      입대일: {{user.days[0]}}<br/>전역일: {{user.days[4]}}\n    </v-toolbar-title>\n  </template>\n  </v-toolbar>\n    \n  <v-divider></v-divider>\n    <v-container fluid class=\"pt-5\">\n        <div>\n            <v-row>\n                <v-col lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"cyan fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 cyan--text\">\n                                <h5 class=\"text-truncate text-uppercase\">현재 복무일</h5>\n                                <h1><animated-number\n                                    :value=\"currentDays\"\n                                    :formatValue=\"formatToDpDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{discharge_P}}%</b>\n                                <v-progress-linear \n                                :rotate=\"-90\"\n                                :size=\"100\" \n                                :width=\"7\" \n                                :value=\"discharge_P\" \n                                color=\"cyan\">\n                                </v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"primary fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 primary--text\">\n                                <h5 class=\"text-truncate text-uppercase\">남은 복무일</h5>\n                                <h1><animated-number\n                                    :value=\"remainDays\"\n                                    :formatValue=\"formatToDmDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{remain_P}}%</b>\n                                <v-progress-linear \n                                :rotate=\"-90\"\n                                :size=\"100\" \n                                :width=\"7\" \n                                :value=\"remain_P\" \n                                color=\"primary\">\n                                </v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"success fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 success--text\">\n                                <h5 class=\"text-truncate text-uppercase\">{{user.classes[rankIdx+1]}} 진급</h5>\n                                <h1><animated-number\n                                    :value=\"promotion\"\n                                    :formatValue=\"formatToDmDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{promotion_P}}%</b>\n                                <v-progress-linear :rotate=\"-90\" :size=\"100\" :width=\"7\" :value=\"promotion_P\" color=\"success\"></v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col v-show=\"(!nmHouse)\" lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"error fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 error--text\">\n                                <h5 class=\"text-truncate text-uppercase\" >{{user.classes[nmRankIdx]}} {{nmStepIdx}}호봉 진급</h5>\n                                <h1><animated-number\n                                    :value=\"step\"\n                                    :formatValue=\"formatToDmDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{step_P}}%</b>\n                                <v-progress-linear :rotate=\"-90\" :size=\"100\" :width=\"7\" :value=\"step_P\" color=\"error\"></v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </div>\n    </v-container>\n    </v-card>\n</template>\n\n<style>\n    #title {\n        font-size: 0.75rem;\n    }\n    table th + th { border-left:1px solid #dddddd; }\n    table td + td { border-left:1px solid #dddddd; }\n</style>\n<script>\n  export default {\n    name: 'RetireCalculator',\n\n    data: () => ({\n    }),\n  }\n</script>\n\n<script>\nimport { mapState } from 'vuex';\nimport AnimatedNumber from \"animated-number-vue\";\n\nexport default {\n  components: {\n    AnimatedNumber\n  },\n  data() {\n    return {\n      user : {},\n      tmp : [],\n      discharge_P : 0, //전역일 퍼센트\n      remain_P : 0, // 남은 복무일 퍼센트\n      promotion_P : 0, // 다음 계급 진급일 퍼센트\n      step_P : 0,     // 다음 호봉 진급일 퍼센트\n      currentDays : 0, // 현재 복무일\n      remainDays : 0,  // 남은 복무일\n      promotion : 0,   // 다음 계급 진급일\n      step : 0,       // 다음 호봉 진급일\n      serviceDays : 0, // 전체 복무일\n      rankIdx : 0,      // 사용자의 현재 계급idx\n      nmRankIdx :0,      //사용자의 현재 계급idx\n      stepIdx : 0,      // 사용자의 현재 호봉\n      nmStepIdx : 0,     // 사용자음 다음 호봉\n      nmHouse : false,   // 다음 달에 전역일 경우\n    };\n  },\n  computed: {\n    ...mapState(['isLogin', 'userdata']),\n  },\n  methods: {\n    updateduserdata(userdata){\n      if(this.isLogin){\n        this.user = {\n            days : [userdata.enlisted_date,userdata.promotion1_date,userdata.promotion2_date,userdata.promotion3_date,userdata.delisted_date],       \n            classes : [\"이등병\",\"일병\",\"상병\",\"병장\",\"민간인\"],\n            type: userdata.type,\n        };\n      } else {\n        this.user = {\n          days : ['2021-09-01', '2021-10-02', '2021-10-10', '2021-10-11', '2021-11-22'],       \n          classes : [\"이등병\",\"일병\",\"상병\",\"병장\",\"민간인\"],\n          type: \"soldier\",\n        }\n      }\n    },\n    dateDiff(a,b){\n      return (a.getTime()-b.getTime())/(1000*3600*24);\n    },\n    formatToDmDay(value) {\n      return `D-${value}`;\n    },\n    formatToDpDay(value) {\n      return `D+${value}`;\n    },\n    updateRcData(){\n      var ui = this.user;\n      var tmp = []; //진급일 배열을 임시로 저장할 배열\n      var idx = 0;  // 사용자의 현재 계급의 인덱스\n      var today = new Date(); \n      ui.days.forEach((item)=> {         //tmp를 date객체를 가진 배열로 만들어 준다.\n          var list = item.split(\"-\");\n          tmp.push(new Date(list[0],list[1]-1,list[2]));\n      });\n      var all = Math.floor(this.dateDiff(tmp[4],tmp[0]));//총 복무일\n      this.serviceDays = all;       \n      var cur = Math.floor(this.dateDiff(today,tmp[0]))+1; //현재 복무일\n      this.currentDays = cur;\n      this.discharge_P = Math.round((this.dateDiff(today,tmp[0]) / all *100)*1000000)/1000000; //전역일 퍼센트\n      this.remain_P = Math.round((100-this.discharge_P)*1000000)/1000000.0;\n      /*----------------------------------------------------------------------------------------*/\n      this.remainDays = (all - cur + 1);                     //남은 복무일\n      for(var i=0;i<4;i++){ //현재 계급 구하기\n          if(tmp[i].getTime()<=today.getTime() && tmp[i+1].getTime()>today.getTime()){\n          idx = i;\n          break;\n          }\n      }\n      this.rankIdx = idx;\n      var prom = this.dateDiff(tmp[idx+1],today)+1; //다음 계급 진급일\n      this.promotion = prom;\n      var prodiff = this.dateDiff(tmp[idx+1],tmp[idx]) // 현재 계급 진급일과 다음 계급 진급일 일수 차 구하기\n      this.promotion_P = Math.round(((prodiff-prom)/prodiff *100)*1000000)/1000000; // 다음계급 진급일 퍼센트\n          /*----------------------------------------------------------------------------------------*/\n      var curStep = today.getMonth() - tmp[idx].getMonth() +1;  // 현재 호봉 수\n      this.stepIdx = curStep;\n      if(today.getMonth()+1 == tmp[idx+1].getMonth()){ //다음달이 진급일이라 호봉 수가 1로 바뀔 때\n          if(idx == 3){\n          this.nmStepIdx = curStep+1;\n          this.nmRankIdx = this.rankIdx;\n          }else{\n          this.nmStepIdx = 1;\n          this.nmRankIdx = this.rankIdx +1;\n          }\n      } else {        \n          this.nmStepIdx = curStep+1;\n          this.nmRankIdx = this.rankIdx;\n      }\n      var tm = new Date(today.getFullYear(),today.getMonth(),1);    //현재 달의 첫날\n      var nm = new Date(today.getFullYear(),today.getMonth()+1,1);  //다음 달의 첫날\n      var diff = this.dateDiff(nm,tm)       //한달 크기 구하기\n      this.step =  this.dateDiff(nm,today)+1;            //다음 호봉 진급일\n      if((nm.getTime()-tmp[4].getTime()) > 0 ){                      //다음 달 첫날이 전역 이후 일 때\n          this.nmHouse= true;\n      }else {\n          this.nmHouse = false;\n      }\n      this.step_P = Math.round(((diff-this.step)/diff *100)*1000000)/1000000; // 다음 호봉 진급일 퍼센트\n    }\n  },\n\n  watch: {\n    userdata: function() {\n      this.updateduserdata(this.userdata);\n      this.updateRcData();\n    }\n  },\n  created() {\n    this.updateduserdata(this.userdata);\n    this.updateRcData();\n  }\n};\n</script>"]}]}