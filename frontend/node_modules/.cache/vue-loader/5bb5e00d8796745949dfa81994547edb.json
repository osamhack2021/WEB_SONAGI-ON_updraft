{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/views/CommunityWrite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/views/CommunityWrite.vue","mtime":1634648827355},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":1634648814815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gJ3Z1ZXgnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKT0+ICh7CiAgICBiY0xpbms6IFsKICAgICAgewogICAgICAgIHRleHQ6ICfrjIDsi5zrs7Trk5wnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBocmVmOiAnLycsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAn7Luk666k64uI7YuwJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgaHJlZjogJ2NvbW11bml0eScsCiAgICAgIH0sCiAgICBdLAogICAgdGl0bGU6ICIiLAogICAgY29udGVudDogIiIsCiAgICBpbWFnZTogbnVsbCwKICB9KSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWydpc0xvZ2luJywgJ2FjY2Vzc190b2tlbiddKSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHdyaXRlUG9zdDogZnVuY3Rpb24oKXsKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFjY2Vzc190b2tlbn1gLAogICAgICAgIH0sCiAgICAgIH07CiAgICAgIGNvbnN0IHBvc3RPYmplY3QgPSB7CiAgICAgICAgImJvYXJkX2lkIjp0aGlzLiRyb3V0ZS5xdWVyeS5ib2FyZF9pZCwKICAgICAgICAidGl0bGUiOnRoaXMudGl0bGUsCiAgICAgICAgImNvbnRlbnQiOnRoaXMuY29udGVudCwKICAgICAgICAiaW1hZ2UiOnRoaXMuaW1hZ2UsCiAgICAgIH0KICAgICAgdGhpcy5heGlvcwogICAgICAucG9zdChgJHt0aGlzLiRzdG9yZS5zdGF0ZS5CQUNLRU5EX1VSTH0vYXBpL2NvbW11bml0eS9wb3N0L3dyaXRlYCwgcG9zdE9iamVjdCwgY29uZmlnKQogICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9jb21tdW5pdHk/Ym9hcmRfaWQ9Iit0aGlzLiRyb3V0ZS5xdWVyeS5ib2FyZF9pZCkKICAgICAgICB0aGlzLiRhbGVydCgi6rKM7Iuc6riAIOyekeyEseyXkCDshLHqs7XtlojsirXri4jri6QuIiwiIiwic3VjY2VzcyIpOwogICAgICB9KQogICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJGFsZXJ0KCLshLjshZjsnbQg66eM66OM65CY7JeI7Iq164uI64ukLiDri6Tsi5wg66Gc6re47J24IO2VtOyjvOyEuOyalC4iLCIiLCJlcnJvciIpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZighdGhpcy5pc0xvZ2luKXsKICAgICAgdGhpcy4kYWxlcnQoIuuhnOq3uOyduOydtCDtlYTsmpTtlZwg7Y6Y7J207KeA7J6F64uI64ukLiIsICIiLCAid2FybmluZyIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICByZXR1cm47CiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["CommunityWrite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommunityWrite.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n    <v-card class=\"group pa-2\">\n      <v-icon small style=\"margin-left:5px\">home</v-icon>\n      <v-breadcrumbs :items=\"bcLink\"></v-breadcrumbs>\n    </v-card>\n    <v-layout align-center column fill-height class=\"py-8 px-4\">\n      <v-card class=\"py-8 px-4 ma-4\" style=\"width: 900px; height: 700px\">\n        <v-form lazy-validation>\n          <v-text-field\n            v-model=\"title\"\n            label=\"제목\"\n            :rules=\"titleRules\"\n            clearable\n          ></v-text-field>\n          <v-textarea\n          counter\n          v-model=\"content\"\n          label=\"내용\"\n          :rules=\"contentRules\"\n          rows=\"15\"\n          row-height=\"30\"\n          ></v-textarea>\n        </v-form>\n      </v-card>\n      <v-layout justify-center>\n          <v-btn @click=\"writePost()\">\n            작성하기\n          </v-btn>\n      </v-layout>\n    </v-layout>\n    </div>\n</template>\n\n\n<script>\nimport {mapState} from 'vuex'\nexport default {\n  data: ()=> ({\n    bcLink: [\n      {\n        text: '대시보드',\n        disabled: false,\n        href: '/',\n      },\n      {\n        text: '커뮤니티',\n        disabled: false,\n        href: 'community',\n      },\n    ],\n    title: \"\",\n    content: \"\",\n    image: null,\n  }),\n  computed: {\n    ...mapState(['isLogin', 'access_token']),\n  },\n  methods: {\n    writePost: function(){\n      const config = {\n        headers: {\n          Authorization: `Bearer ${this.access_token}`,\n        },\n      };\n      const postObject = {\n        \"board_id\":this.$route.query.board_id,\n        \"title\":this.title,\n        \"content\":this.content,\n        \"image\":this.image,\n      }\n      this.axios\n      .post(`${this.$store.state.BACKEND_URL}/api/community/post/write`, postObject, config)\n      .then(() => {\n        this.$router.push(\"/community?board_id=\"+this.$route.query.board_id)\n        this.$alert(\"게시글 작성에 성공했습니다.\",\"\",\"success\");\n      })\n      .catch(() => {\n        this.$alert(\"세션이 만료되었습니다. 다시 로그인 해주세요.\",\"\",\"error\");\n      });\n    }\n  },\n  created() {\n    if(!this.isLogin){\n      this.$alert(\"로그인이 필요한 페이지입니다.\", \"\", \"warning\");\n      this.$router.push(\"/\");\n      return;\n    }\n  },\n}\n</script>\n<style>\n    \n</style>"]}]}