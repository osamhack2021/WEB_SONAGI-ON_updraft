{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/BoardList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/BoardList.vue","mtime":1634648827351},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634648816471},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":1634648814815}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnYm9hcmRfaWQnXSwKICBuYW1lOiAnQm9hcmRMaXN0JywKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWydpc0xvZ2luJywgJ2FjY2Vzc190b2tlbiddKSwKICB9LAogIGRhdGE6ICgpPT4oewogICAgc2VhcmNoOiAnJywKICAgIGhlYWRlcnM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICdObycsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAnaWQnLAogICAgICAgIHdpZHRoOiAzMCwKICAgICAgfSwKICAgICAgeyAKICAgICAgICB0ZXh0OiAn7KCc66qpJywgCiAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAndGl0bGUnCiAgICAgIH0sCiAgICAgIHsgCiAgICAgICAgdGV4dDogJ+yekeyEseyekCcsIAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdmFsdWU6ICduaWNrbmFtZScsCiAgICAgICAgd2lkdGg6IDEzMCwKICAgICAgfSwKICAgICAgeyAKICAgICAgICB0ZXh0OiAn7J6R7ISx7J287J6QJywgCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB2YWx1ZTogJ3dyaXRlX2RhdGUnLCAKICAgICAgICB3aWR0aDogMTIwLAogICAgICB9LAogICAgXSwKICAgIGJkTGlzdDogWwogICAgXSwKICB9KSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVCb2FyZDogZnVuY3Rpb24oKXsKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmFjY2Vzc190b2tlbn1gLAogICAgICAgIH0sCiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MKICAgICAgLnBvc3QoYCR7dGhpcy4kc3RvcmUuc3RhdGUuQkFDS0VORF9VUkx9L2FwaS9jb21tdW5pdHkvcG9zdC9saXN0YCwgeydib2FyZF9pZCc6dGhpcy5ib2FyZF9pZH0sIGNvbmZpZykKICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuYmRMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJkTGlzdC5sZW5ndGg7IGkrKyl7CiAgICAgICAgICB0aGlzLmJkTGlzdFtpXS53cml0ZV9kYXRlID0gdGhpcy5iZExpc3RbaV0ud3JpdGVfZGF0ZS5zcGxpdCgnVCcpWzBdOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRhbGVydCgi7IS47IWY7J20IOunjOujjOuQmOyXiOyKteuLiOuLpC4g64uk7IucIOuhnOq3uOyduCDtlbTso7zshLjsmpQuIiwiIiwiZXJyb3IiKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYoIXRoaXMuaXNMb2dpbil7CiAgICAgIHRoaXMuJGFsZXJ0KCLroZzqt7jsnbjsnbQg7ZWE7JqU7ZWcIO2OmOydtOyngOyeheuLiOuLpC4iLCAiIiwgIndhcm5pbmciKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgcmV0dXJuOwogICAgfSBlbHNlewogICAgICB0aGlzLnVwZGF0ZUJvYXJkKCk7CiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["BoardList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BoardList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n      <v-layout justify-center mb-4 pa-4>\n        <v-card style=\"width: 900px;\" class=\"elevation-4 pa-2 ma-2\">\n          <v-card-title>\n            목록\n            <v-spacer></v-spacer>\n            <v-text-field\n              v-model=\"search\"\n              append-icon=\"mdi-magnify\"\n              label=\"Search\"\n              single-line\n              hide-details\n            ></v-text-field>\n          </v-card-title>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"bdList\"\n            :search=\"search\"\n            :sort-by=\"['id']\"\n            :sort-desc=\"[true]\"\n          > \n          <template #item.title=\"{ item }\">\n            <router-link :to=\"{ name: '커뮤니티 게시글', query: { board_id: board_id, post_id: item.id } }\"\n              style=\"text-decoration: none; color: inherit;\"\n            >\n              {{ item.title }}\n            </router-link>\n          </template>\n          </v-data-table>\n          <v-row justify=\"center\" class=\"pa-4\">\n            <v-btn link :to=\"'/community-write?board_id='+this.board_id\">\n              글쓰기\n            </v-btn>\n          </v-row>\n        </v-card>\n      </v-layout>\n</template>\n\n<script>\nimport {mapState} from 'vuex'\n\nexport default {\n  props: ['board_id'],\n  name: 'BoardList',\n  computed: {\n    ...mapState(['isLogin', 'access_token']),\n  },\n  data: ()=>({\n    search: '',\n    headers: [\n      {\n        text: 'No',\n        align: 'center',\n        sortable: true,\n        value: 'id',\n        width: 30,\n      },\n      { \n        text: '제목', \n        align: 'start',\n        sortable: false,\n        value: 'title'\n      },\n      { \n        text: '작성자', \n        align: 'center',\n        sortable: false,\n        value: 'nickname',\n        width: 130,\n      },\n      { \n        text: '작성일자', \n        align: 'center',\n        sortable: false,\n        value: 'write_date', \n        width: 120,\n      },\n    ],\n    bdList: [\n    ],\n  }),\n  methods: {\n    updateBoard: function(){\n      const config = {\n        headers: {\n          Authorization: `Bearer ${this.access_token}`,\n        },\n      };\n      this.axios\n      .post(`${this.$store.state.BACKEND_URL}/api/community/post/list`, {'board_id':this.board_id}, config)\n      .then((res) => {\n        this.bdList = res.data;\n        for (let i = 0; i < this.bdList.length; i++){\n          this.bdList[i].write_date = this.bdList[i].write_date.split('T')[0];\n        }\n      })\n      .catch(() => {\n        this.$alert(\"세션이 만료되었습니다. 다시 로그인 해주세요.\",\"\",\"error\");\n      });\n    }\n  },\n  created() {\n    if(!this.isLogin){\n      this.$alert(\"로그인이 필요한 페이지입니다.\", \"\", \"warning\");\n      this.$router.push(\"/\");\n      return;\n    } else{\n      this.updateBoard();\n    }\n  },\n}\n</script>"]}]}