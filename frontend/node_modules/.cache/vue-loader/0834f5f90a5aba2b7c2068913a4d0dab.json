{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/Register.vue","mtime":1634449137141},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGh0dHBzOi8vbWludTA4MDcudGlzdG9yeS5jb20vODIKLy8gaHR0cHM6Ly9zdW5kcmllcy1pbi1teWlkZWEudGlzdG9yeS5jb20vMTMwCi8vIHJ1bGXroZwg66i4IOudhOyasOuKlOqxsCDrjIDtlbTshJwg7LC46rOg7ZWgIOq4gCDrlLDrtIkKCi8vIGh0dHBzOi8vdnVldGlmeWpzLmNvbS9lbi9jb21wb25lbnRzL2FsZXJ0cy8jdXNhZ2UKLy8gYWxlcnQgY29tcG9uZW5066W8IOyNqOuztOyekAoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3RlcicsCiAgLy8g7JWE656Y7JmAIOqwmeydgCDtmJXsi53snLzroZwgZGF0YeulvCDsjajslbwg7JWI7JeQ7IScIHRoaXPrpbwg7JO4IOyImCDsnojri6QuCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGVtYWlsdW5pcXVlOiB0cnVlLAogICAgICBlbWFpbDogIiIsCiAgICAgIGVtYWlsUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAn7J2066mU7J287J2AIO2VhOyImCDtla3rqqnsnoXri4jri6QuJywKICAgICAgICB2ID0+IC8uK0AuK1wuLisvLnRlc3QodikgfHwgJ+ydtOuplOydvCDtmJXsi53snbQg7Jyg7Zqo7ZWY7KeAIOyViuyKteuLiOuLpC4nLAogICAgICAgIHYgPT4gdi5sZW5ndGggPD0gMzAgfHwgJ+ydtOuplOydvCDquLjsnbTripQg7LWc64yAIDMw7J6Q7J6F64uI64ukLicsCiAgICAgICAgKCkgPT4gdGhpcy5lbWFpbHVuaXF1ZSB8fCAn7J2066+4IOyCrOyaqeykkeyduCDsnbTrqZTsnbzsnoXri4jri6QuJywKICAgICAgXSwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ+2MqOyKpOybjOuTnOuKlCDtlYTsiJgg7ZWt66qp7J6F64uI64ukLicsCiAgICAgIF0sCiAgICAgIHBhc3N3b3JkMjogIiIsCiAgICAgIHBhc3N3b3JkUnVsZXMyOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ+2MqOyKpOybjOuTnCDtmZXsnbjsnYAg7ZWE7IiYIO2VreuqqeyeheuLiOuLpC4nLAogICAgICAgIHYgPT4gdiA9PT0gdGhpcy5wYXNzd29yZCB8fCAn7Yyo7Iqk7JuM65Oc6rCAIOydvOy5mO2VmOyngCDslYrsirXri4jri6QuJywKICAgICAgXSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyKHNpZ251cE9iail7CiAgICAgIGlmICh0aGlzLiRyZWZzLnJlZ2lzdGVyZm9ybS52YWxpZGF0ZSgpKXsKICAgICAgICB0aGlzLmF4aW9zCiAgICAgICAgICAucG9zdChgJHt0aGlzLiRzdG9yZS5zdGF0ZS5CQUNLRU5EX1VSTH0vYXBpL3VzZXIvcmVnaXN0cmF0aW9uYCwgc2lnbnVwT2JqKQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KCLtmozsm5DqsIDsnoXsl5Ag7ISx6rO17ZaI7Iq164uI64ukLiDshKTsoJXsl5DshJwg7ZqM7JuQIOygleuztOulvCDrs4Dqsr3tlZjsi6Qg7IiYIOyeiOyKteuLiOuLpC4iLCIiLCJzdWNjZXNzIik7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBpZihlcnJvci5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuZW1haWwpewogICAgICAgICAgICAgIHRoaXMuZW1haWx1bmlxdWUgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLnJlZ2lzdGVyZm9ybS52YWxpZGF0ZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJGFsZXJ0KCdbUkcwMDFdIOyYiOyDgey5mCDrqrvtlZwg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4g6rOg6rCd7IS87YSw66GcIOusuOydmCDrsJTrno3ri4jri6QuJywiIiwiZXJyb3IiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nOiBmdW5jdGlvbih2YWwpewogICAgICBpZiAoIXZhbCl7CiAgICAgICAgdGhpcy4kcmVmcy5yZWdpc3RlcmZvcm0ucmVzZXQoKTsKICAgICAgICB0aGlzLmVtYWlsdW5pcXVlID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGVtYWlsOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5lbWFpbHVuaXF1ZSA9IHRydWU7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-row justify=\"center\">\n    <v-dialog\n      v-model=\"dialog\"\n      max-width=\"600px\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          color=\"grey darken-2 white--text\"\n          dark\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          회원가입\n        </v-btn>\n      </template>\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">회원가입</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-form ref=\"registerform\" lazy-validation>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field\n                  name=\"email\"\n                  label=\"이메일 *\"\n                  v-model=\"email\"\n                  :rules=\"emailRules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  name=\"password\"\n                  label=\"패스워드 *\"\n                  v-model=\"password\"\n                  type=\"password\"\n                  :rules=\"passwordRules\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-text-field\n                  name=\"password2\"\n                  label=\"패스워드 확인 *\"\n                  v-model=\"password2\"\n                  type=\"password\"\n                  :rules=\"passwordRules2\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n            </v-form>\n          </v-container>\n          <small>* 필수 입력 항목입니다.</small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"blue darken-1\"\n            text\n            @click=\"register({email, password, password2})\"\n          >\n            확인\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\n// https://minu0807.tistory.com/82\n// https://sundries-in-myidea.tistory.com/130\n// rule로 머 띄우는거 대해서 참고할 글 따봉\n\n// https://vuetifyjs.com/en/components/alerts/#usage\n// alert component를 써보자\n\nexport default {\n  name: 'Register',\n  // 아래와 같은 형식으로 data를 써야 안에서 this를 쓸 수 있다.\n  data() {\n    return {\n      dialog: false,\n      emailunique: true,\n      email: \"\",\n      emailRules: [\n        v => !!v || '이메일은 필수 항목입니다.',\n        v => /.+@.+\\..+/.test(v) || '이메일 형식이 유효하지 않습니다.',\n        v => v.length <= 30 || '이메일 길이는 최대 30자입니다.',\n        () => this.emailunique || '이미 사용중인 이메일입니다.',\n      ],\n      password: \"\",\n      passwordRules: [\n        v => !!v || '패스워드는 필수 항목입니다.',\n      ],\n      password2: \"\",\n      passwordRules2: [\n        v => !!v || '패스워드 확인은 필수 항목입니다.',\n        v => v === this.password || '패스워드가 일치하지 않습니다.',\n      ],\n    }\n  },\n  methods: {\n    register(signupObj){\n      if (this.$refs.registerform.validate()){\n        this.axios\n          .post(`${this.$store.state.BACKEND_URL}/api/user/registration`, signupObj)\n          .then(() => {\n            this.dialog = false\n            this.$alert(\"회원가입에 성공했습니다. 설정에서 회원 정보를 변경하실 수 있습니다.\",\"\",\"success\");\n          })\n          .catch((error) => {\n            if(error.response !== undefined && error.response.data.email){\n              this.emailunique = false;\n              this.$refs.registerform.validate();\n            } else {\n              this.$alert('[RG001] 예상치 못한 문제가 발생했습니다. 고객센터로 문의 바랍니다.',\"\",\"error\");\n            }\n          });\n      }\n    },\n  },\n  watch: {\n    dialog: function(val){\n      if (!val){\n        this.$refs.registerform.reset();\n        this.emailunique = true;\n      }\n    },\n    email: function() {\n      this.emailunique = true;\n    }\n  }\n}\n</script>"]}]}