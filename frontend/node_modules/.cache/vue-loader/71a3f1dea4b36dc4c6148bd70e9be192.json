{"remainingRequest":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/RetireCalculator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/src/components/RetireCalculator.vue","mtime":1634452222098},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/WEB_SONAGI-ON_updraft/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBBbmltYXRlZE51bWJlciBmcm9tICJhbmltYXRlZC1udW1iZXItdnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBbmltYXRlZE51bWJlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXIgOiB7fSwKICAgICAgdG1wIDogW10sCiAgICAgIGRpc2NoYXJnZV9QIDogMCwgLy/soITsl63snbwg7Y287IS87Yq4CiAgICAgIHJlbWFpbl9QIDogMCwgLy8g64Ko7J2AIOuzteustOydvCDtjbzshLztirgKICAgICAgcHJvbW90aW9uX1AgOiAwLCAvLyDri6TsnYwg6rOE6riJIOynhOq4ieydvCDtjbzshLztirgKICAgICAgc3RlcF9QIDogMCwgICAgIC8vIOuLpOydjCDtmLjrtIkg7KeE6riJ7J28IO2NvOyEvO2KuAogICAgICBjdXJyZW50RGF5cyA6IDAsIC8vIO2YhOyerCDrs7XrrLTsnbwKICAgICAgcmVtYWluRGF5cyA6IDAsICAvLyDrgqjsnYAg67O166y07J28CiAgICAgIHByb21vdGlvbiA6IDAsICAgLy8g64uk7J2MIOqzhOq4iSDsp4TquInsnbwKICAgICAgc3RlcCA6IDAsICAgICAgIC8vIOuLpOydjCDtmLjrtIkg7KeE6riJ7J28CiAgICAgIHNlcnZpY2VEYXlzIDogMCwgLy8g7KCE7LK0IOuzteustOydvAogICAgICByYW5rSWR4IDogMCwgICAgICAvLyDsgqzsmqnsnpDsnZgg7ZiE7J6sIOqzhOq4iWlkeAogICAgICBubVJhbmtJZHggOjAsICAgICAgLy/sgqzsmqnsnpDsnZgg7ZiE7J6sIOqzhOq4iWlkeAogICAgICBzdGVwSWR4IDogMCwgICAgICAvLyDsgqzsmqnsnpDsnZgg7ZiE7J6sIO2YuOu0iQogICAgICBubVN0ZXBJZHggOiAwLCAgICAgLy8g7IKs7Jqp7J6Q7J2MIOuLpOydjCDtmLjrtIkKICAgICAgbm1Ib3VzZSA6IGZhbHNlLCAgIC8vIOuLpOydjCDri6zsl5Ag7KCE7Jet7J28IOqyveyasAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ2lzTG9naW4nLCAndXNlcmRhdGEnXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVkdXNlcmRhdGEodXNlcmRhdGEpewogICAgICB0aGlzLnVzZXIgPSB7CiAgICAgICAgICBkYXlzIDogW3VzZXJkYXRhLmVubGlzdGVkX2RhdGUsdXNlcmRhdGEucHJvbW90aW9uMV9kYXRlLHVzZXJkYXRhLnByb21vdGlvbjJfZGF0ZSx1c2VyZGF0YS5wcm9tb3Rpb24zX2RhdGUsdXNlcmRhdGEuZGVsaXN0ZWRfZGF0ZV0sICAgICAgIAogICAgICAgICAgY2xhc3NlcyA6IFsi7J2065Ox67ORIiwi7J2867ORIiwi7IOB67ORIiwi67OR7J6lIiwi66+86rCE7J24Il0sCiAgICAgICAgICB0eXBlOiB1c2VyZGF0YS50eXBlLAogICAgICB9OwogICAgfSwKICAgIGRhdGVEaWZmKGEsYil7CiAgICAgIHJldHVybiAoYS5nZXRUaW1lKCktYi5nZXRUaW1lKCkpLygxMDAwKjM2MDAqMjQpOwogICAgfSwKICAgIGZvcm1hdFRvRG1EYXkodmFsdWUpIHsKICAgICAgcmV0dXJuIGBELSR7dmFsdWV9YDsKICAgIH0sCiAgICBmb3JtYXRUb0RwRGF5KHZhbHVlKSB7CiAgICAgIHJldHVybiBgRCske3ZhbHVlfWA7CiAgICB9LAogICAgdXBkYXRlUmNEYXRhKCl7CiAgICAgIHZhciB1aSA9IHRoaXMudXNlcjsKICAgICAgdmFyIHRtcCA9IFtdOyAvL+ynhOq4ieydvCDrsLDsl7TsnYQg7J6E7Iuc66GcIOyggOyepe2VoCDrsLDsl7QKICAgICAgdmFyIGlkeCA9IDA7ICAvLyDsgqzsmqnsnpDsnZgg7ZiE7J6sIOqzhOq4ieydmCDsnbjrjbHsiqQKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsgCiAgICAgIHVpLmRheXMuZm9yRWFjaCgoaXRlbSk9PiB7ICAgICAgICAgLy90bXDrpbwgZGF0ZeqwneyytOulvCDqsIDsp4Qg67Cw7Je066GcIOunjOuTpOyWtCDspIDri6QuCiAgICAgICAgICB2YXIgbGlzdCA9IGl0ZW0uc3BsaXQoIi0iKTsKICAgICAgICAgIHRtcC5wdXNoKG5ldyBEYXRlKGxpc3RbMF0sbGlzdFsxXS0xLGxpc3RbMl0pKTsKICAgICAgfSk7CiAgICAgIHZhciBhbGwgPSBNYXRoLmZsb29yKHRoaXMuZGF0ZURpZmYodG1wWzRdLHRtcFswXSkpOy8v7LSdIOuzteustOydvAogICAgICB0aGlzLnNlcnZpY2VEYXlzID0gYWxsOyAgICAgICAKICAgICAgdmFyIGN1ciA9IE1hdGguZmxvb3IodGhpcy5kYXRlRGlmZih0b2RheSx0bXBbMF0pKSsxOyAvL+2YhOyerCDrs7XrrLTsnbwKICAgICAgdGhpcy5jdXJyZW50RGF5cyA9IGN1cjsKICAgICAgdGhpcy5kaXNjaGFyZ2VfUCA9IE1hdGgucm91bmQoKHRoaXMuZGF0ZURpZmYodG9kYXksdG1wWzBdKSAvIGFsbCAqMTAwKSoxMDAwMDAwKS8xMDAwMDAwOyAvL+yghOyXreydvCDtjbzshLztirgKICAgICAgdGhpcy5yZW1haW5fUCA9IE1hdGgucm91bmQoKDEwMC10aGlzLmRpc2NoYXJnZV9QKSoxMDAwMDAwKS8xMDAwMDAwLjA7CiAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICAgIHRoaXMucmVtYWluRGF5cyA9IChhbGwgLSBjdXIgKyAxKTsgICAgICAgICAgICAgICAgICAgICAvL+uCqOydgCDrs7XrrLTsnbwKICAgICAgZm9yKHZhciBpPTA7aTw0O2krKyl7IC8v7ZiE7J6sIOqzhOq4iSDqtaztlZjquLAKICAgICAgICAgIGlmKHRtcFtpXS5nZXRUaW1lKCk8PXRvZGF5LmdldFRpbWUoKSAmJiB0bXBbaSsxXS5nZXRUaW1lKCk+dG9kYXkuZ2V0VGltZSgpKXsKICAgICAgICAgIGlkeCA9IGk7CiAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnJhbmtJZHggPSBpZHg7CiAgICAgIHZhciBwcm9tID0gdGhpcy5kYXRlRGlmZih0bXBbaWR4KzFdLHRvZGF5KSsxOyAvL+uLpOydjCDqs4TquIkg7KeE6riJ7J28CiAgICAgIHRoaXMucHJvbW90aW9uID0gcHJvbTsKICAgICAgdmFyIHByb2RpZmYgPSB0aGlzLmRhdGVEaWZmKHRtcFtpZHgrMV0sdG1wW2lkeF0pIC8vIO2YhOyerCDqs4TquIkg7KeE6riJ7J286rO8IOuLpOydjCDqs4TquIkg7KeE6riJ7J28IOydvOyImCDssKgg6rWs7ZWY6riwCiAgICAgIHRoaXMucHJvbW90aW9uX1AgPSBNYXRoLnJvdW5kKCgocHJvZGlmZi1wcm9tKS9wcm9kaWZmICoxMDApKjEwMDAwMDApLzEwMDAwMDA7IC8vIOuLpOydjOqzhOq4iSDsp4TquInsnbwg7Y287IS87Yq4CiAgICAgICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwogICAgICB2YXIgY3VyU3RlcCA9IHRvZGF5LmdldE1vbnRoKCkgLSB0bXBbaWR4XS5nZXRNb250aCgpICsxOyAgLy8g7ZiE7J6sIO2YuOu0iSDsiJgKICAgICAgdGhpcy5zdGVwSWR4ID0gY3VyU3RlcDsKICAgICAgaWYodG9kYXkuZ2V0TW9udGgoKSsxID09IHRtcFtpZHgrMV0uZ2V0TW9udGgoKSl7IC8v64uk7J2M64us7J20IOynhOq4ieydvOydtOudvCDtmLjrtIkg7IiY6rCAIDHroZwg67CU64CUIOuVjAogICAgICAgICAgaWYoaWR4ID09IDMpewogICAgICAgICAgdGhpcy5ubVN0ZXBJZHggPSBjdXJTdGVwKzE7CiAgICAgICAgICB0aGlzLm5tUmFua0lkeCA9IHRoaXMucmFua0lkeDsKICAgICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy5ubVN0ZXBJZHggPSAxOwogICAgICAgICAgdGhpcy5ubVJhbmtJZHggPSB0aGlzLnJhbmtJZHggKzE7CiAgICAgICAgICB9CiAgICAgIH0gZWxzZSB7ICAgICAgICAKICAgICAgICAgIHRoaXMubm1TdGVwSWR4ID0gY3VyU3RlcCsxOwogICAgICAgICAgdGhpcy5ubVJhbmtJZHggPSB0aGlzLnJhbmtJZHg7CiAgICAgIH0KICAgICAgdmFyIHRtID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSx0b2RheS5nZXRNb250aCgpLDEpOyAgICAvL+2YhOyerCDri6zsnZgg7LKr64KgCiAgICAgIHZhciBubSA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksdG9kYXkuZ2V0TW9udGgoKSsxLDEpOyAgLy/ri6TsnYwg64us7J2YIOyyq+uCoAogICAgICB2YXIgZGlmZiA9IHRoaXMuZGF0ZURpZmYobm0sdG0pICAgICAgIC8v7ZWc64usIO2BrOq4sCDqtaztlZjquLAKICAgICAgdGhpcy5zdGVwID0gIHRoaXMuZGF0ZURpZmYobm0sdG9kYXkpKzE7ICAgICAgICAgICAgLy/ri6TsnYwg7Zi467SJIOynhOq4ieydvAogICAgICBpZigobm0uZ2V0VGltZSgpLXRtcFs0XS5nZXRUaW1lKCkpID4gMCApeyAgICAgICAgICAgICAgICAgICAgICAvL+uLpOydjCDri6wg7LKr64Kg7J20IOyghOyXrSDsnbTtm4Qg7J28IOuVjAogICAgICAgICAgdGhpcy5ubUhvdXNlPSB0cnVlOwogICAgICB9ZWxzZSB7CiAgICAgICAgICB0aGlzLm5tSG91c2UgPSBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLnN0ZXBfUCA9IE1hdGgucm91bmQoKChkaWZmLXRoaXMuc3RlcCkvZGlmZiAqMTAwKSoxMDAwMDAwKS8xMDAwMDAwOyAvLyDri6TsnYwg7Zi467SJIOynhOq4ieydvCDtjbzshLztirgKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgdXNlcmRhdGE6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnVwZGF0ZWR1c2VyZGF0YSh0aGlzLnVzZXJkYXRhKTsKICAgICAgdGhpcy51cGRhdGVSY0RhdGEoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZWR1c2VyZGF0YSh0aGlzLnVzZXJkYXRhKTsKICAgIHRoaXMudXBkYXRlUmNEYXRhKCk7CiAgfQp9Owo="},{"version":3,"sources":["RetireCalculator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RetireCalculator.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class=\"elevation-0\">\n  <v-toolbar class=\"elevation-2\">\n  <template>\n    <v-toolbar-title v-if=\"!isLogin\">D-??</v-toolbar-title>\n    <v-toolbar-title v-else>D-{{Math.floor(remainDays)}}</v-toolbar-title>\n  </template>\n  <v-spacer></v-spacer>\n  <v-toolbar-title>전역일 계산기</v-toolbar-title>\n  <v-spacer></v-spacer>\n  <template>\n    <v-toolbar-title v-if=\"!isLogin\" id=\"title\">\n      입대일: 0000-00-00<br/>전역일: 0000-00-00\n    </v-toolbar-title>\n    <v-toolbar-title v-else id=\"title\">\n      입대일: {{user.days[0]}}<br/>전역일: {{user.days[4]}}\n    </v-toolbar-title>\n  </template>\n  </v-toolbar>\n    \n  <v-divider></v-divider>\n    <v-container fluid class=\"pt-5\">\n        <div>\n            <v-row>\n                <v-col lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"cyan fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 cyan--text\">\n                                <h5 class=\"text-truncate text-uppercase\">현재 복무일</h5>\n                                <h1><animated-number\n                                    :value=\"currentDays\"\n                                    :formatValue=\"formatToDpDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{discharge_P}}%</b>\n                                <v-progress-linear \n                                :rotate=\"-90\"\n                                :size=\"100\" \n                                :width=\"7\" \n                                :value=\"discharge_P\" \n                                color=\"cyan\">\n                                </v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"primary fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 primary--text\">\n                                <h5 class=\"text-truncate text-uppercase\">남은 복무일</h5>\n                                <h1><animated-number\n                                    :value=\"remainDays\"\n                                    :formatValue=\"formatToDmDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{remain_P}}%</b>\n                                <v-progress-linear \n                                :rotate=\"-90\"\n                                :size=\"100\" \n                                :width=\"7\" \n                                :value=\"remain_P\" \n                                color=\"primary\">\n                                </v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"success fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 success--text\">\n                                <h5 class=\"text-truncate text-uppercase\">{{user.classes[rankIdx+1]}} 진급</h5>\n                                <h1><animated-number\n                                    :value=\"promotion\"\n                                    :formatValue=\"formatToDmDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{promotion_P}}%</b>\n                                <v-progress-linear :rotate=\"-90\" :size=\"100\" :width=\"7\" :value=\"promotion_P\" color=\"success\"></v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col v-show=\"(!nmHouse)\" lg=\"3\" md=\"3\" sm=\"6\" xs=\"12\" class=\"pb-2\">\n                    <v-skeleton-loader\n                      v-if=\"!isLogin\"\n                      type=\"image\"\n                    > </v-skeleton-loader>\n                    <v-card v-else>\n                        <v-row class=\"no-gutters\">\n                            <div class=\"col-auto\">\n                                <div class=\"error fill-height\">&nbsp;</div>\n                            </div>\n                            <div class=\"col pa-3 py-4 error--text\">\n                                <h5 class=\"text-truncate text-uppercase\" >{{user.classes[nmRankIdx]}} {{nmStepIdx}}호봉 진급</h5>\n                                <h1><animated-number\n                                    :value=\"step\"\n                                    :formatValue=\"formatToDmDay\"\n                                    :duration=\"300\"\n                                    :round=\"1\"\n                                /></h1>\n                                <b>{{step_P}}%</b>\n                                <v-progress-linear :rotate=\"-90\" :size=\"100\" :width=\"7\" :value=\"step_P\" color=\"error\"></v-progress-linear>\n                            </div>\n                        </v-row>\n                    </v-card>\n                </v-col>\n            </v-row>\n        </div>\n    </v-container>\n    </v-card>\n</template>\n\n<style>\n    #title {\n        font-size: 0.75rem;\n    }\n    table th + th { border-left:1px solid #dddddd; }\n    table td + td { border-left:1px solid #dddddd; }\n</style>\n<script>\n  export default {\n    name: 'RetireCalculator',\n\n    data: () => ({\n    }),\n  }\n</script>\n\n<script>\nimport { mapState } from 'vuex';\nimport AnimatedNumber from \"animated-number-vue\";\n\nexport default {\n  components: {\n    AnimatedNumber\n  },\n  data() {\n    return {\n      user : {},\n      tmp : [],\n      discharge_P : 0, //전역일 퍼센트\n      remain_P : 0, // 남은 복무일 퍼센트\n      promotion_P : 0, // 다음 계급 진급일 퍼센트\n      step_P : 0,     // 다음 호봉 진급일 퍼센트\n      currentDays : 0, // 현재 복무일\n      remainDays : 0,  // 남은 복무일\n      promotion : 0,   // 다음 계급 진급일\n      step : 0,       // 다음 호봉 진급일\n      serviceDays : 0, // 전체 복무일\n      rankIdx : 0,      // 사용자의 현재 계급idx\n      nmRankIdx :0,      //사용자의 현재 계급idx\n      stepIdx : 0,      // 사용자의 현재 호봉\n      nmStepIdx : 0,     // 사용자음 다음 호봉\n      nmHouse : false,   // 다음 달에 전역일 경우\n    };\n  },\n  computed: {\n    ...mapState(['isLogin', 'userdata']),\n  },\n  methods: {\n    updateduserdata(userdata){\n      this.user = {\n          days : [userdata.enlisted_date,userdata.promotion1_date,userdata.promotion2_date,userdata.promotion3_date,userdata.delisted_date],       \n          classes : [\"이등병\",\"일병\",\"상병\",\"병장\",\"민간인\"],\n          type: userdata.type,\n      };\n    },\n    dateDiff(a,b){\n      return (a.getTime()-b.getTime())/(1000*3600*24);\n    },\n    formatToDmDay(value) {\n      return `D-${value}`;\n    },\n    formatToDpDay(value) {\n      return `D+${value}`;\n    },\n    updateRcData(){\n      var ui = this.user;\n      var tmp = []; //진급일 배열을 임시로 저장할 배열\n      var idx = 0;  // 사용자의 현재 계급의 인덱스\n      var today = new Date(); \n      ui.days.forEach((item)=> {         //tmp를 date객체를 가진 배열로 만들어 준다.\n          var list = item.split(\"-\");\n          tmp.push(new Date(list[0],list[1]-1,list[2]));\n      });\n      var all = Math.floor(this.dateDiff(tmp[4],tmp[0]));//총 복무일\n      this.serviceDays = all;       \n      var cur = Math.floor(this.dateDiff(today,tmp[0]))+1; //현재 복무일\n      this.currentDays = cur;\n      this.discharge_P = Math.round((this.dateDiff(today,tmp[0]) / all *100)*1000000)/1000000; //전역일 퍼센트\n      this.remain_P = Math.round((100-this.discharge_P)*1000000)/1000000.0;\n      /*----------------------------------------------------------------------------------------*/\n      this.remainDays = (all - cur + 1);                     //남은 복무일\n      for(var i=0;i<4;i++){ //현재 계급 구하기\n          if(tmp[i].getTime()<=today.getTime() && tmp[i+1].getTime()>today.getTime()){\n          idx = i;\n          break;\n          }\n      }\n      this.rankIdx = idx;\n      var prom = this.dateDiff(tmp[idx+1],today)+1; //다음 계급 진급일\n      this.promotion = prom;\n      var prodiff = this.dateDiff(tmp[idx+1],tmp[idx]) // 현재 계급 진급일과 다음 계급 진급일 일수 차 구하기\n      this.promotion_P = Math.round(((prodiff-prom)/prodiff *100)*1000000)/1000000; // 다음계급 진급일 퍼센트\n          /*----------------------------------------------------------------------------------------*/\n      var curStep = today.getMonth() - tmp[idx].getMonth() +1;  // 현재 호봉 수\n      this.stepIdx = curStep;\n      if(today.getMonth()+1 == tmp[idx+1].getMonth()){ //다음달이 진급일이라 호봉 수가 1로 바뀔 때\n          if(idx == 3){\n          this.nmStepIdx = curStep+1;\n          this.nmRankIdx = this.rankIdx;\n          }else{\n          this.nmStepIdx = 1;\n          this.nmRankIdx = this.rankIdx +1;\n          }\n      } else {        \n          this.nmStepIdx = curStep+1;\n          this.nmRankIdx = this.rankIdx;\n      }\n      var tm = new Date(today.getFullYear(),today.getMonth(),1);    //현재 달의 첫날\n      var nm = new Date(today.getFullYear(),today.getMonth()+1,1);  //다음 달의 첫날\n      var diff = this.dateDiff(nm,tm)       //한달 크기 구하기\n      this.step =  this.dateDiff(nm,today)+1;            //다음 호봉 진급일\n      if((nm.getTime()-tmp[4].getTime()) > 0 ){                      //다음 달 첫날이 전역 이후 일 때\n          this.nmHouse= true;\n      }else {\n          this.nmHouse = false;\n      }\n      this.step_P = Math.round(((diff-this.step)/diff *100)*1000000)/1000000; // 다음 호봉 진급일 퍼센트\n    }\n  },\n\n  watch: {\n    userdata: function() {\n      this.updateduserdata(this.userdata);\n      this.updateRcData();\n    }\n  },\n  created() {\n    this.updateduserdata(this.userdata);\n    this.updateRcData();\n  }\n};\n</script>"]}]}